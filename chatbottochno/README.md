# Телеграм-бот для регистрации контактов пользователей

Проект включает в себя Телеграм-бота для регистрации контактов пользователей и веб-сервер на Flask с базой данных SQLite для сохранения данных.

## Содержание

1. [Требования](#требования)
2. [Установка](#установка)
3. [Запуск](#запуск)
4. [Описание файлов](#описание-файлов)
5. [Тестирование](#тестирование)
6. [Завершение работы](#завершение-работы)

---

### Требования

- Python 3.10 или выше
- Библиотеки Python: `Flask`, `Flask-SQLAlchemy`, `pyTelegramBotAPI`, `requests`
- SQLite (устанавливается с Python по умолчанию)
- Git для контроля версий

### Установка

1. **Клонирование репозитория**: Клонируйте репозиторий на свою локальную машину. Для этого запустите команду в терминале:
    ```bash
    git clone <https://github.com/lapa1-1/chatbottochno1.git>
   

2. **Установка библиотек**: Перейдите в папку проекта и установите необходимые библиотеки:
    ```bash
    cd <chatbottochno>
    pip install -r requirements.txt
    ```
    > Файл `requirements.txt` должен содержать зависимости:
    > ```plaintext
    > Flask
    > Flask-SQLAlchemy
    > pyTelegramBotAPI
    > requests
    > ```

3. **Создание базы данных**: В проекте автоматически создается база данных `users.db` при первом запуске сервера. Внутри `cait.py` уже включена функция `db.create_all()` для создания таблицы пользователей.

### Запуск

1. **Запуск Flask-сервера**: Выполните следующую команду для запуска сервера:
    ```bash
    python cait.py
    ```
    После запуска сервер будет доступен по адресу: `http://127.0.0.1:5000`

2. **Запуск Телеграм-бота**: Выполните следующую команду в новом терминале:
    ```bash
    python bot.ry.py
    ```
    Бот начнёт принимать команды в Телеграм.

### Описание файлов

- `cait.py` — сервер на Flask с API для сохранения и запроса данных пользователей.
- `bot.ry.py` — код Телеграм-бота для общения с пользователями и передачи их данных на сервер.
- `users.db` — база данных SQLite, в которой хранятся данные пользователей.
- `requirements.txt` — файл зависимостей для Python.
- `README.md` — файл с инструкцией.

### Тестирование

Чтобы проверить работоспособность, выполните следующие шаги:

1. **Добавьте нового пользователя** через Телеграм, следуя инструкциям бота.
2. **Проверьте сохранение данных**:
   - Откройте БД с помощью DB Browser for SQLite или другой программы.
   - Убедитесь, что контактные данные пользователя добавлены в таблицу.

### Завершение работы

После завершения работы остановите сервер и бота с помощью команд `Ctrl + C` в терминале.

